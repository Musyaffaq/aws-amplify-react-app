{"ast":null,"code":"import { __awaiter as e, __generator as t, __rest as r, __assign as n } from \"../../../node_modules/tslib/tslib.es6.js\";\nimport { Auth as i } from \"aws-amplify\";\nimport s from \"lodash/get\";\nimport o from \"lodash/isEmpty\";\nimport { createMachine as a, sendUpdate as c } from \"xstate\";\nimport { AuthChallengeNames as d } from \"../../../types/authenticator/user.js\";\nimport \"../../../types/authenticator/attributes.js\";\nimport { runValidators as u } from \"../../../validators/index.js\";\nimport { clearAttributeToVerify as l, clearChallengeName as f, clearRequiredAttributes as g, clearError as m, clearFormValues as h, clearTouched as p, clearUnverifiedAttributes as v, clearValidationError as I, handleInput as E, handleSubmit as U, handleBlur as A, parsePhoneNumber as b, setChallengeName as y, setConfirmResetPasswordIntent as S, setConfirmSignUpIntent as T, setRequiredAttributes as C, setCredentials as N, setFieldErrors as w, setRemoteError as R, setUnverifiedAttributes as V, setUser as P, setUsernameAuthAttributes as _ } from \"../actions.js\";\nimport { defaultServices as F } from \"../defaultServices.js\";\n\nfunction k(k) {\n  var D = k.services;\n  return a({\n    initial: \"init\",\n    id: \"signInActor\",\n    states: {\n      init: {\n        always: [{\n          target: \"signIn\"\n        }]\n      },\n      signIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              CHANGE: {\n                actions: \"handleInput\"\n              },\n              FEDERATED_SIGN_IN: \"federatedSignIn\"\n            }\n          },\n          federatedSignIn: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"federatedSignIn\",\n              onError: {\n                actions: \"setRemoteError\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"parsePhoneNumber\", \"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"signIn\",\n              onDone: [{\n                cond: \"shouldSetupTOTP\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.setupTOTP\"\n              }, {\n                cond: \"shouldConfirmSignIn\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.confirmSignIn\"\n              }, {\n                cond: \"shouldForceChangePassword\",\n                actions: [\"setUser\", \"setChallengeName\", \"setRequiredAttributes\"],\n                target: \"#signInActor.forceNewPassword\"\n              }, {\n                actions: \"setUser\",\n                target: \"verifying\"\n              }],\n              onError: [{\n                cond: \"shouldRedirectToConfirmSignUp\",\n                actions: [\"setCredentials\", \"setConfirmSignUpIntent\"],\n                target: \"rejected\"\n              }, {\n                cond: \"shouldRedirectToConfirmResetPassword\",\n                actions: [\"setUsernameAuthAttributes\", \"setConfirmResetPasswordIntent\"],\n                target: \"rejected\"\n              }, {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }]\n            }\n          },\n          verifying: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"checkVerifiedContact\",\n              onDone: [{\n                cond: \"shouldRequestVerification\",\n                target: \"#signInActor.verifyUser\",\n                actions: \"setUnverifiedAttributes\"\n              }, {\n                target: \"resolved\"\n              }],\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          },\n          resolved: {\n            always: \"#signInActor.resolved\"\n          },\n          rejected: {\n            always: \"#signInActor.rejected\"\n          }\n        }\n      },\n      confirmSignIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"confirmSignIn\",\n              onDone: {\n                target: \"#signInActor.resolved\",\n                actions: [\"setUser\", \"clearChallengeName\", \"clearRequiredAttributes\"]\n              },\n              onError: {\n                target: \"edit\",\n                actions: \"setRemoteError\"\n              }\n            }\n          }\n        }\n      },\n      forceNewPassword: {\n        type: \"parallel\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          validation: {\n            initial: \"pending\",\n            states: {\n              pending: {\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"valid\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"invalid\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              valid: {\n                entry: \"sendUpdate\"\n              },\n              invalid: {\n                entry: \"sendUpdate\"\n              }\n            },\n            on: {\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\",\n                target: \".pending\"\n              },\n              BLUR: {\n                actions: \"handleBlur\",\n                target: \".pending\"\n              }\n            }\n          },\n          submit: {\n            initial: \"idle\",\n            entry: \"clearError\",\n            states: {\n              idle: {\n                entry: \"sendUpdate\",\n                on: {\n                  SUBMIT: {\n                    actions: \"handleSubmit\",\n                    target: \"validate\"\n                  }\n                }\n              },\n              validate: {\n                entry: \"sendUpdate\",\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"pending\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              pending: {\n                tags: [\"pending\"],\n                entry: [\"sendUpdate\", \"clearError\"],\n                invoke: {\n                  src: \"forceNewPassword\",\n                  onDone: [{\n                    cond: \"shouldConfirmSignIn\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.confirmSignIn\"\n                  }, {\n                    cond: \"shouldSetupTOTP\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.setupTOTP\"\n                  }, {\n                    target: \"resolved\",\n                    actions: [\"setUser\", \"setCredentials\"]\n                  }],\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setRemoteError\"\n                  }\n                }\n              },\n              resolved: {\n                type: \"final\",\n                always: \"#signInActor.resolved\"\n              }\n            }\n          }\n        }\n      },\n      setupTOTP: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"verifyTotpToken\",\n              onDone: {\n                actions: [\"setUser\", \"clearChallengeName\", \"clearRequiredAttributes\"],\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      verifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"verifyUser\",\n              onDone: {\n                target: \"#signInActor.confirmVerifyUser\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      confirmVerifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearUnverifiedAttributes\", \"clearAttributeToVerify\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"confirmVerifyUser\",\n              onDone: {\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      resolved: {\n        type: \"final\",\n        data: function (e) {\n          return {\n            user: e.user\n          };\n        }\n      },\n      rejected: {\n        type: \"final\",\n        data: function (e, t) {\n          return {\n            intent: e.redirectIntent,\n            authAttributes: e.authAttributes\n          };\n        }\n      }\n    }\n  }, {\n    actions: {\n      clearAttributeToVerify: l,\n      clearChallengeName: f,\n      clearRequiredAttributes: g,\n      clearError: m,\n      clearFormValues: h,\n      clearTouched: p,\n      clearUnverifiedAttributes: v,\n      clearValidationError: I,\n      handleInput: E,\n      handleSubmit: U,\n      handleBlur: A,\n      parsePhoneNumber: b,\n      setChallengeName: y,\n      setConfirmResetPasswordIntent: S,\n      setConfirmSignUpIntent: T,\n      setRequiredAttributes: C,\n      setCredentials: N,\n      setFieldErrors: w,\n      setRemoteError: R,\n      setUnverifiedAttributes: V,\n      setUser: P,\n      setUsernameAuthAttributes: _,\n      sendUpdate: c()\n    },\n    guards: {\n      shouldConfirmSignIn: function (e, t) {\n        var r = s(t, \"data.challengeName\");\n        return [d.SMS_MFA, d.SOFTWARE_TOKEN_MFA].includes(r);\n      },\n      shouldRedirectToConfirmSignUp: function (e, t) {\n        return \"UserNotConfirmedException\" === t.data.code;\n      },\n      shouldRedirectToConfirmResetPassword: function (e, t) {\n        return \"PasswordResetRequiredException\" === t.data.code;\n      },\n      shouldSetupTOTP: function (e, t) {\n        return s(t, \"data.challengeName\") === d.MFA_SETUP;\n      },\n      shouldForceChangePassword: function (e, t) {\n        return s(t, \"data.challengeName\") === d.NEW_PASSWORD_REQUIRED;\n      },\n      shouldRequestVerification: function (e, t) {\n        var r = t.data,\n            n = r.unverified,\n            i = r.verified;\n        return o(i) && !o(n);\n      }\n    },\n    services: {\n      signIn: function (r) {\n        return e(this, void 0, void 0, function () {\n          var e, n, i;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.formValues, n = e.username, i = e.password, [4, D.handleSignIn({\n                  username: n,\n                  password: i\n                })];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      confirmSignIn: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n, s, o;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.challengeName, n = r.user, s = r.formValues.confirmation_code, e !== d.SMS_MFA && e !== d.SOFTWARE_TOKEN_MFA || (o = e), [4, D.handleConfirmSignIn({\n                  user: n,\n                  code: s,\n                  mfaType: o\n                })];\n\n              case 1:\n                return t.sent(), [4, i.currentAuthenticatedUser()];\n\n              case 2:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      forceNewPassword: function (s, o) {\n        return e(this, void 0, void 0, function () {\n          var e, o, a, c, d, u, l, f, g;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                e = s.user, o = s.formValues, a = o.password, c = o.phone_number, d = o.country_code, u = r(o, [\"password\", \"confirm_password\", \"phone_number\", \"country_code\"]), c && (l = \"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi, \"\"), u = n(n({}, u), {\n                  phone_number: l\n                })), t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, i.completeNewPassword(e, a, u)];\n\n              case 2:\n                return (f = t.sent()).challengeName ? [2, f] : [2, i.currentAuthenticatedUser()];\n\n              case 3:\n                return g = t.sent(), [2, Promise.reject(g)];\n\n              case 4:\n                return [2];\n            }\n          });\n        });\n      },\n      verifyTotpToken: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            return e = r.user, n = r.formValues.confirmation_code, [2, i.verifyTotpToken(e, n)];\n          });\n        });\n      },\n      federatedSignIn: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n.data.provider, [4, i.federatedSignIn({\n                  provider: e\n                })];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      checkVerifiedContact: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.user, [4, i.verifiedContact(e)];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      verifyUser: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.formValues.unverifiedAttr, [4, i.verifyCurrentUserAttribute(e)];\n\n              case 1:\n                return n = t.sent(), r.attributeToVerify = e, [2, n];\n            }\n          });\n        });\n      },\n      confirmVerifyUser: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.attributeToVerify, n = r.formValues.confirmation_code, [4, i.verifyCurrentUserAttributeSubmit(e, n)];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      validateFields: function (r, n) {\n        return e(this, void 0, void 0, function () {\n          return t(this, function (e) {\n            return [2, u(r.formValues, r.touched, r.passwordSettings, [F.validateConfirmPassword])];\n          });\n        });\n      }\n    }\n  });\n}\n\nexport { k as signInActor };","map":{"version":3,"names":["__awaiter","e","__generator","t","__rest","r","__assign","n","Auth","i","s","o","createMachine","a","sendUpdate","c","AuthChallengeNames","d","runValidators","u","clearAttributeToVerify","l","clearChallengeName","f","clearRequiredAttributes","g","clearError","m","clearFormValues","h","clearTouched","p","clearUnverifiedAttributes","v","clearValidationError","I","handleInput","E","handleSubmit","U","handleBlur","A","parsePhoneNumber","b","setChallengeName","y","setConfirmResetPasswordIntent","S","setConfirmSignUpIntent","T","setRequiredAttributes","C","setCredentials","N","setFieldErrors","w","setRemoteError","R","setUnverifiedAttributes","V","setUser","P","setUsernameAuthAttributes","_","defaultServices","F","k","D","services","initial","id","states","init","always","target","signIn","exit","edit","entry","on","SUBMIT","actions","CHANGE","FEDERATED_SIGN_IN","federatedSignIn","tags","invoke","src","onError","submit","onDone","cond","verifying","resolved","rejected","confirmSignIn","SIGN_IN","forceNewPassword","type","validation","pending","valid","invalid","BLUR","idle","validate","setupTOTP","verifyUser","SKIP","confirmVerifyUser","data","user","intent","redirectIntent","authAttributes","guards","shouldConfirmSignIn","SMS_MFA","SOFTWARE_TOKEN_MFA","includes","shouldRedirectToConfirmSignUp","code","shouldRedirectToConfirmResetPassword","shouldSetupTOTP","MFA_SETUP","shouldForceChangePassword","NEW_PASSWORD_REQUIRED","shouldRequestVerification","unverified","verified","label","formValues","username","password","handleSignIn","sent","challengeName","confirmation_code","handleConfirmSignIn","mfaType","currentAuthenticatedUser","phone_number","country_code","concat","replace","trys","push","completeNewPassword","Promise","reject","verifyTotpToken","provider","checkVerifiedContact","verifiedContact","unverifiedAttr","verifyCurrentUserAttribute","attributeToVerify","verifyCurrentUserAttributeSubmit","validateFields","touched","passwordSettings","validateConfirmPassword","signInActor"],"sources":["/Users/musyaffaq/node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signIn.js"],"sourcesContent":["import{__awaiter as e,__generator as t,__rest as r,__assign as n}from\"../../../node_modules/tslib/tslib.es6.js\";import{Auth as i}from\"aws-amplify\";import s from\"lodash/get\";import o from\"lodash/isEmpty\";import{createMachine as a,sendUpdate as c}from\"xstate\";import{AuthChallengeNames as d}from\"../../../types/authenticator/user.js\";import\"../../../types/authenticator/attributes.js\";import{runValidators as u}from\"../../../validators/index.js\";import{clearAttributeToVerify as l,clearChallengeName as f,clearRequiredAttributes as g,clearError as m,clearFormValues as h,clearTouched as p,clearUnverifiedAttributes as v,clearValidationError as I,handleInput as E,handleSubmit as U,handleBlur as A,parsePhoneNumber as b,setChallengeName as y,setConfirmResetPasswordIntent as S,setConfirmSignUpIntent as T,setRequiredAttributes as C,setCredentials as N,setFieldErrors as w,setRemoteError as R,setUnverifiedAttributes as V,setUser as P,setUsernameAuthAttributes as _}from\"../actions.js\";import{defaultServices as F}from\"../defaultServices.js\";function k(k){var D=k.services;return a({initial:\"init\",id:\"signInActor\",states:{init:{always:[{target:\"signIn\"}]},signIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},CHANGE:{actions:\"handleInput\"},FEDERATED_SIGN_IN:\"federatedSignIn\"}},federatedSignIn:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"federatedSignIn\",onError:{actions:\"setRemoteError\"}}},submit:{tags:[\"pending\"],entry:[\"parsePhoneNumber\",\"clearError\",\"sendUpdate\"],invoke:{src:\"signIn\",onDone:[{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldForceChangePassword\",actions:[\"setUser\",\"setChallengeName\",\"setRequiredAttributes\"],target:\"#signInActor.forceNewPassword\"},{actions:\"setUser\",target:\"verifying\"}],onError:[{cond:\"shouldRedirectToConfirmSignUp\",actions:[\"setCredentials\",\"setConfirmSignUpIntent\"],target:\"rejected\"},{cond:\"shouldRedirectToConfirmResetPassword\",actions:[\"setUsernameAuthAttributes\",\"setConfirmResetPasswordIntent\"],target:\"rejected\"},{actions:\"setRemoteError\",target:\"edit\"}]}},verifying:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"checkVerifiedContact\",onDone:[{cond:\"shouldRequestVerification\",target:\"#signInActor.verifyUser\",actions:\"setUnverifiedAttributes\"},{target:\"resolved\"}],onError:{actions:\"setRemoteError\",target:\"edit\"}}},resolved:{always:\"#signInActor.resolved\"},rejected:{always:\"#signInActor.rejected\"}}},confirmSignIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"confirmSignIn\",onDone:{target:\"#signInActor.resolved\",actions:[\"setUser\",\"clearChallengeName\",\"clearRequiredAttributes\"]},onError:{target:\"edit\",actions:\"setRemoteError\"}}}}},forceNewPassword:{type:\"parallel\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{validation:{initial:\"pending\",states:{pending:{invoke:{src:\"validateFields\",onDone:{target:\"valid\",actions:\"clearValidationError\"},onError:{target:\"invalid\",actions:\"setFieldErrors\"}}},valid:{entry:\"sendUpdate\"},invalid:{entry:\"sendUpdate\"}},on:{SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\",target:\".pending\"},BLUR:{actions:\"handleBlur\",target:\".pending\"}}},submit:{initial:\"idle\",entry:\"clearError\",states:{idle:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"validate\"}}},validate:{entry:\"sendUpdate\",invoke:{src:\"validateFields\",onDone:{target:\"pending\",actions:\"clearValidationError\"},onError:{target:\"idle\",actions:\"setFieldErrors\"}}},pending:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"forceNewPassword\",onDone:[{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{target:\"resolved\",actions:[\"setUser\",\"setCredentials\"]}],onError:{target:\"idle\",actions:\"setRemoteError\"}}},resolved:{type:\"final\",always:\"#signInActor.resolved\"}}}}},setupTOTP:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"verifyTotpToken\",onDone:{actions:[\"setUser\",\"clearChallengeName\",\"clearRequiredAttributes\"],target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},verifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"verifyUser\",onDone:{target:\"#signInActor.confirmVerifyUser\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},confirmVerifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearUnverifiedAttributes\",\"clearAttributeToVerify\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"confirmVerifyUser\",onDone:{target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},resolved:{type:\"final\",data:function(e){return{user:e.user}}},rejected:{type:\"final\",data:function(e,t){return{intent:e.redirectIntent,authAttributes:e.authAttributes}}}}},{actions:{clearAttributeToVerify:l,clearChallengeName:f,clearRequiredAttributes:g,clearError:m,clearFormValues:h,clearTouched:p,clearUnverifiedAttributes:v,clearValidationError:I,handleInput:E,handleSubmit:U,handleBlur:A,parsePhoneNumber:b,setChallengeName:y,setConfirmResetPasswordIntent:S,setConfirmSignUpIntent:T,setRequiredAttributes:C,setCredentials:N,setFieldErrors:w,setRemoteError:R,setUnverifiedAttributes:V,setUser:P,setUsernameAuthAttributes:_,sendUpdate:c()},guards:{shouldConfirmSignIn:function(e,t){var r=s(t,\"data.challengeName\");return[d.SMS_MFA,d.SOFTWARE_TOKEN_MFA].includes(r)},shouldRedirectToConfirmSignUp:function(e,t){return\"UserNotConfirmedException\"===t.data.code},shouldRedirectToConfirmResetPassword:function(e,t){return\"PasswordResetRequiredException\"===t.data.code},shouldSetupTOTP:function(e,t){return s(t,\"data.challengeName\")===d.MFA_SETUP},shouldForceChangePassword:function(e,t){return s(t,\"data.challengeName\")===d.NEW_PASSWORD_REQUIRED},shouldRequestVerification:function(e,t){var r=t.data,n=r.unverified,i=r.verified;return o(i)&&!o(n)}},services:{signIn:function(r){return e(this,void 0,void 0,(function(){var e,n,i;return t(this,(function(t){switch(t.label){case 0:return e=r.formValues,n=e.username,i=e.password,[4,D.handleSignIn({username:n,password:i})];case 1:return[2,t.sent()]}}))}))},confirmSignIn:function(r,n){return e(this,void 0,void 0,(function(){var e,n,s,o;return t(this,(function(t){switch(t.label){case 0:return e=r.challengeName,n=r.user,s=r.formValues.confirmation_code,e!==d.SMS_MFA&&e!==d.SOFTWARE_TOKEN_MFA||(o=e),[4,D.handleConfirmSignIn({user:n,code:s,mfaType:o})];case 1:return t.sent(),[4,i.currentAuthenticatedUser()];case 2:return[2,t.sent()]}}))}))},forceNewPassword:function(s,o){return e(this,void 0,void 0,(function(){var e,o,a,c,d,u,l,f,g;return t(this,(function(t){switch(t.label){case 0:e=s.user,o=s.formValues,a=o.password,c=o.phone_number,d=o.country_code,u=r(o,[\"password\",\"confirm_password\",\"phone_number\",\"country_code\"]),c&&(l=\"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi,\"\"),u=n(n({},u),{phone_number:l})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i.completeNewPassword(e,a,u)];case 2:return(f=t.sent()).challengeName?[2,f]:[2,i.currentAuthenticatedUser()];case 3:return g=t.sent(),[2,Promise.reject(g)];case 4:return[2]}}))}))},verifyTotpToken:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){return e=r.user,n=r.formValues.confirmation_code,[2,i.verifyTotpToken(e,n)]}))}))},federatedSignIn:function(r,n){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=n.data.provider,[4,i.federatedSignIn({provider:e})];case 1:return[2,t.sent()]}}))}))},checkVerifiedContact:function(r,n){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=r.user,[4,i.verifiedContact(e)];case 1:return[2,t.sent()]}}))}))},verifyUser:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.formValues.unverifiedAttr,[4,i.verifyCurrentUserAttribute(e)];case 1:return n=t.sent(),r.attributeToVerify=e,[2,n]}}))}))},confirmVerifyUser:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.attributeToVerify,n=r.formValues.confirmation_code,[4,i.verifyCurrentUserAttributeSubmit(e,n)];case 1:return[2,t.sent()]}}))}))},validateFields:function(r,n){return e(this,void 0,void 0,(function(){return t(this,(function(e){return[2,u(r.formValues,r.touched,r.passwordSettings,[F.validateConfirmPassword])]}))}))}}})}export{k as signInActor};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}